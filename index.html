<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Finca Tekosy</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: Arial; text-align:center; background:#f4f4f4; }
.card {
 background:#fff;
 padding:15px;
 margin:10px;
 border-radius:8px;
 font-size:18px;
 cursor:pointer;
}
button {
 padding:10px;
 background:green;
 color:white;
 border:none;
 border-radius:5px;
 margin:5px;
}
input { width:95%; margin:4px; }
.modal {
 display:none;
 position:fixed;
 top:0; left:0;
 width:100%; height:100%;
 background:rgba(0,0,0,.7);
}
.modal-content {
 background:#fff;
 margin:10% auto;
 padding:15px;
 width:90%;
 border-radius:8px;
}
img { max-width:100%; border-radius:6px; }
</style>
</head>

<body>

<h1>üå± Finca Tekosy</h1>

<div id="productos"></div>

<a href="https://wa.me/595981319661">
<button>üì≤ Pedir por WhatsApp</button>
</a>

<hr>

<h3>üîí Acceso due√±o</h3>
<input type="password" id="clave" placeholder="Clave">
<button onclick="login()">Entrar</button>

<div id="panel" style="display:none;">
<h3>‚úèÔ∏è Editar productos</h3>
<div id="editor"></div>
<button onclick="guardar()">Guardar cambios</button>
</div>

<div class="modal" id="modal">
 <div class="modal-content">
  <h3 id="modalTitulo"></h3>
  <div id="modalMedia"></div>
  <button onclick="cerrar()">Cerrar</button>
 </div>
</div>

<script>
let productos = JSON.parse(localStorage.getItem("productos")) || {
 gallina:{nombre:"üêî Gallina",precio:30000,img:"https://via.placeholder.com/400",video:""},
 pato:{nombre:"ü¶Ü Pato",precio:35000,img:"https://via.placeholder.com/400",video:""},
 cerdo:{nombre:"üêñ Cerdo",precio:28000,img:"https://via.placeholder.com/400",video:""},
 hg:{nombre:"ü•ö Huevo gallina",precio:1000,img:"https://via.placeholder.com/400",video:""},
 hp:{nombre:"ü•ö Huevo pato",precio:2000,img:"https://via.placeholder.com/400",video:""},
 tomate:{nombre:"üçÖ Tomate cherry",precio:10000,img:"https://via.placeholder.com/400",video:""},
 chaucha:{nombre:"ü´ò Chaucha",precio:8000,img:"https://via.placeholder.com/400",video:""}
};

function mostrar(){
 let html="";
 for(let k in productos){
  html+=`<div class="card" onclick="ver('${k}')">
  ${productos[k].nombre}: Gs ${productos[k].precio}
  </div>`;
 }
 productosDiv.innerHTML=html;
}
const productosDiv=document.getElementById("productos");
mostrar();

function ver(k){
 modal.style.display="block";
 modalTitulo.innerText=productos[k].nombre;
 modalMedia.innerHTML=`
 <img src="${productos[k].img}">
 ${productos[k].video ? <iframe width="100%" height="200" src="${productos[k].video}" allowfullscreen></iframe> : ""}
 `;
}

function cerrar(){ modal.style.display="none"; }

function login(){
 if(clave.value==="JSF4"){
  panel.style.display="block";
  let html="";
  for(let k in productos){
   html+=`
   <h4>${productos[k].nombre}</h4>
   Precio <input id="p_${k}" value="${productos[k].precio}">
   Imagen (URL) <input id="i_${k}" value="${productos[k].img}">
   Video (YouTube link) <input id="v_${k}" value="${productos[k].video}">
   <hr>`;
  }
  editor.innerHTML=html;
 } else {
  alert("Clave incorrecta");
 }
}

function guardar(){
 for(let k in productos){
  productos[k].precio=document.getElementById("p_"+k).value;
  productos[k].img=document.getElementById("i_"+k).value;
  productos[k].video=document.getElementById("v_"+k).value;
 }
 localStorage.setItem("productos",JSON.stringify(productos));
 mostrar();
 alert("Cambios guardados correctamente");
}
</script>

</body>
</html>
